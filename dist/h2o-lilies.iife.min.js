!function(){function t(t){let e=t.is;customElements.get(e)?console.warn("Already registered "+e):customElements.define(e,t)}const e="disabled";class s extends(function(t){return class extends t{constructor(){super(...arguments),this._evCount={}}static get observedAttributes(){return[e]}get disabled(){return this._disabled}set disabled(t){this.attr(e,t,"")}attr(t,e,s){this[(e?"set":"remove")+"Attribute"](t,s||e)}to$(t){const e=t%2;return(t-e)/2+"-"+e}incAttr(t){const e=this._evCount;t in e?e[t]++:e[t]=0,this.attr("data-"+t,this.to$(e[t]))}attributeChangedCallback(t,s,r){switch(t){case e:this._disabled=null!==r}}de(t,e,s=!1){const r=t+(s?"":"-changed"),i=new CustomEvent(r,{detail:e,bubbles:!0,composed:!1});return this.dispatchEvent(i),this.incAttr(r),i}_upgradeProperties(t){t.forEach(t=>{if(this.hasOwnProperty(t)){let e=this[t];delete this[t],this[t]=e}})}}}(HTMLElement)){constructor(){super(...arguments),this._getTarget=(t=>{let e=t.previousElementSibling;return e||(e=t.parentElement),e})}static get is(){return"h2o-tf"}static get observedAttributes(){return[e]}get transform(){return this._transform}set transform(t){this._transform=t,this.onPropsChange()}get getTarget(){return this._getTarget}set getTarget(t){this._getTarget=t}connectedCallback(){this.style.display="none",this._upgradeProperties([e,"transform","target"]),this._c=!0,this.onPropsChange()}onPropsChange(){if(this._disabled||!this._c||!this._transform)return;const t=this._getTarget(this);if(null===t)return void setTimeout(()=>{this.onPropsChange()},50);this.value={};const e={obj:this.value,stack:[],leaf:this.value,processChildren:!1,el:null};this.process(t,e),this.de("value",{value:this.value})}process(t,e){for(const s in this._transform)if(t.matches&&t.matches(s)){const r=this._transform[s];if(e.processChildren=!1,e.el=t,r(e),e.processChildren&&t.childNodes){t.childNodes.forEach(t=>{t.matches&&this.process(t,e)});const s=e.stack;s.pop(),e.leaf=s.length>0?s[s.length-1]:null}}}}t(s);t(class extends s{static get is(){return"h2o-lilies"}initTransform(){this.transform={ul:t=>{const e=t.el,s=this.makeLeaf(e);s.items=[],0===t.stack.length?t.leaf.root=s:t.leaf.sublist=s,t.leaf=s,t.stack.push(s),t.processChildren=!0},li:t=>{const e=t.el,s=this.makeLeaf(e);s.text=null!==e.firstChild?e.firstChild.nodeValue:null,t.leaf.items.push(s),t.leaf=s,t.stack.push(s),t.processChildren=!0},a:t=>{const e=t.el,s=this.makeLeaf(e);s.text=null!==e.firstChild?e.firstChild.nodeValue:null,t.leaf.link=s,t.leaf=s,t.stack.push(s),t.processChildren=!0}}}makeLeaf(t){return{id:t.id,data:t.dataset,role:t.getAttribute("role"),tabIndex:t.tabIndex,type:t.localName,class:t.className}}connectedCallback(){this.initTransform(),super.connectedCallback()}})}();